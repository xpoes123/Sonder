<!-- music/templates/music/artist_seed.html -->

{% extends 'music/base.html' %}

{% block title %}Set Seed{% endblock %}

{% block content %}
<div class="container">
    <h1>Welcome to Sonder</h1>
    <p>List some artists that you like to help our algorithm get started</p>
    <form method="POST" action="{% url 'music:artist_seed' %}" id="artist-form"> 
        {% csrf_token %}

        <div class="artist-input" id="artist-input-1">
            {{ form.artist_1 }}
        </div>

        <div class="artist-input" id="artist-input-2" style="display: none;">
            {{ form.artist_2 }}
        </div>

        <div class="artist-input" id="artist-input-3" style="display: none;">
            {{ form.artist_3 }}
        </div>

        <div class="artist-input" id="artist-input-4" style="display: none;">
            {{ form.artist_4 }}
        </div>

        <div class="artist-input" id="artist-input-5" style="display: none;">
            {{ form.artist_5 }}
        </div>

        <div class="button-container">
            <button id="add-artist-btn" type="button">Add Artist</button>
            <button class="submit-btn" type="submit">Submit</button>
        </div>

    </form>
</div>

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const addArtistBtn = document.getElementById('add-artist-btn');
        const maxArtists = 5;
        let currentArtist = 1;

        addArtistBtn.addEventListener('click', function() {
            if (currentArtist < maxArtists) {
                currentArtist += 1;
                const nextInputDiv = document.getElementById(`artist-input-${currentArtist}`);
                if (nextInputDiv) {
                    nextInputDiv.style.display = 'block';
                }

                if (currentArtist === maxArtists) {
                    addArtistBtn.disabled = true;
                    addArtistBtn.style.backgroundColor = '#6c757d';
                    addArtistBtn.style.cursor = 'not-allowed';
                }
            }
        });
    });
</script>
{% endblock %}
{% endblock %}
